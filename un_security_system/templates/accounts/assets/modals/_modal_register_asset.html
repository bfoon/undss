<div class="modal fade" id="modalRegisterAsset" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><i class="bi bi-plus-circle me-2"></i>Register New Asset</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <form method="post">
        {% csrf_token %}
        <input type="hidden" name="action" value="register_asset">

        <div class="modal-body">
          <div class="row g-3">

            <div class="col-md-6">
              <label class="form-label">Asset Name</label>
              <input type="text" class="form-control" name="name" required
                     placeholder="e.g. Dell Latitude 5420 / iPhone 13 / HP Dock">
            </div>

            <div class="col-md-6">
              <label class="form-label">Category</label>
              <select class="form-select" name="category_id" required>
                <option value="">Select categoryâ€¦</option>
                {% for c in categories %}
                  <option value="{{ c.id }}">{{ c.name }}</option>
                {% endfor %}
              </select>
            </div>

            <div class="col-md-6">
              <label class="form-label">Serial Number</label>
              <input type="text" class="form-control" name="serial_number" placeholder="Optional">
            </div>


            <div class="col-md-6">
               <div class="form-check mt-2">
            <input class="form-check-input" type="checkbox" name="auto_tag" value="1" id="autoTagCheck" checked>
            <label class="form-check-label" for="autoTagCheck">
              Auto-generate Asset Tag
            </label>
          </div>
          <small class="text-muted">
            If unchecked, you must enter a tag manually.
          </small>
              <label class="form-label mt-3">Asset Tag (optional)</label>
              <input type="text" name="asset_tag" class="form-control"
                     placeholder="e.g. AST-OPS-000123 (or leave blank to auto-generate)">

            </div>

            <div class="col-12">
              <label class="form-label">Unit (optional)</label>
              <select class="form-select" name="unit_id">
                <option value="">Unallocated / Core pool</option>
                {% for u in units %}
                  <option value="{{ u.id }}">{{ u.name }}{% if u.is_core_unit %} (Core){% endif %}</option>
                {% endfor %}
              </select>
            </div>

          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-primary">
            <i class="bi bi-save2 me-1"></i> Save Asset
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
